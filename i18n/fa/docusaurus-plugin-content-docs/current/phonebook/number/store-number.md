# ذخیره شماره در دفترچه تلفن

این API به شما امکان اضافه کردن مخاطبین جدید به دفترچه تلفن خود به صورت دسته‌ای را می‌دهد. می‌توانید چندین مخاطب را در
یک درخواست مشخص کنید، از جمله شماره تلفن، نام، آدرس ایمیل و گزینه‌های اضافی آنها.

## 📍 لینک دسترسی

```
POST {base_url}/api/phonebooks/numbers/add-list-new
```

## 🧾 هدرها

| کلید          | مقدار               |
|---------------|---------------------|
| Authorization | توکن یا کلید دسترسی |
| Content-Type  | application/json    |

## 📤 بدنه درخواست

```json
{
  "list": [
    {
      "number": "+989121236547",
      "pre": "آقای",
      "name": "حسن",
      "email": "hasan@gmail.com",
      "options": {
        "46258": "15",
        "46027": "1992/10/08"
      },
      "phonebook_id": "1234"
    }
  ]
}
```

## 📝 پارامترها

| پارامتر      | نوع    | الزامی | توضیحات                                                              |
|--------------|--------|--------|----------------------------------------------------------------------|
| list         | array  | بله    | آرایه‌ای از اشیاء حاوی شماره هایی که باید به دفترچه تلفن اضافه شوند. |
| number       | string | بله    | شماره تلفن در فرمت E.164.                                            |
| pre          | string | خیر    | پیشوند نام (مثل آقای، خانم).                                         |
| name         | string | خیر    | نام مخاطب.                                                           |
| email        | string | خیر    | آدرس ایمیل مخاطب.                                                    |
| options      | object | خیر    | گزینه‌های اضافی به عنوان جفت کلید-مقدار.                             |
| phonebook_id | string | بله    | شناسه دفترچه تلفنی که مخاطب باید در آن ذخیره گردد                    |

## 📝 نکات

- شی `options` می‌تواند هر فیلد اضافی که می‌خواهید برای مخاطب ذخیره کنید را شامل شود، مانند فیلدهای سفارشی یا متادیتا.
  نام کلیدها در شی `options` باید شناسه‌های گزینه موجود از پیکربندی دفترچه تلفن شما باشند.

## ✅ پاسخ موفق

```json
{
  "data": {
    "added": 1,
    "errors": 0,
    "existences": 0
  },
  "meta": {
    "status": true,
    "message": "انجام شد",
    "message_parameters": [],
    "message_code": "201-1"
  }
}
```

## ❌ پاسخ خطا — توکن نامعتبر یا منقضی (401)

```json
{
  "data": null,
  "meta": {
    "status": false,
    "message": "اطلاعات وارد شده صحیح نمی باشد",
    "message_parameters": [],
    "message_code": "400-1",
    "errors": {}
  }
}
```

## 🧪 مثال درخواست

```bash
curl --location '{base_url}/api/phonebooks/numbers/add-list-new' \
--header 'Authorization: Your Apikey/Token' \
--header 'Content-Type: application/json' \
--data '{
    "list": [
        {
            "number": "+989121236547",
            "pre": "آقای",
            "name": "حسن",
            "options": {
                "46258": "15",
                "46027" : "1992/10/08"
            },
            "phonebook_id": "1234"
        }
    ]
}'
```
