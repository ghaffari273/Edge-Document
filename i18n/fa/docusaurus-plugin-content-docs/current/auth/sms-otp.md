# ارسال رمزیکبار مصرف

این API به کاربر اجازه می‌دهد تا با استفاده از توکن دریافتی در مرحله ورود، درخواست ارسال OTP (رمز عبور یکبار مصرف) از طریق پیامک را ثبت کند.
به طور پیشفرض در مرحله ورود اگر کاربر رمزساز گوگل را فعال نموده باشد، پیامک رمز یکبار مصرف برای وی ارسال نمی گردد. در اینصورت اگر کاربر به رمزساز خود دسترسی نداشته باشد میتواند تقاضای ارسال رمز یکبار مصرف از طریق پیامک را ثبت نماید.

توجه داشته باشید که اگر درخواست دهنده مالک اصلی پنل نباشد و به عنوان همکار درحال ورود به سیستم باشد، پیامک ورود برای شماره تعریف شده برای وی ارسال و به مالک اصلی پنل نیز ورود وی اعلام میگردد

حتی اگر کاربر تقاضای ارسال رمز یکبار مصرف از طریق پیامک را داشته باشد، همچنان امکان ورود با رمزساز برای وی در دسترس بوده و میتواند با کد رمزساز مراحل را ادامه دهد.

## 📍 لینک دسترسی

```
POST {base_url}/api/acl/auth/send_sms_otp
```

## 🧾 هدر درخواست

| Key | Value |
| --- | ----- |
| Content-Type | application/json |

## 📤 بدنه درخواست

```json
{
    "token": "توکن دریافت شده از مرحله ورود"
}
```

️⚠️ در این درخواست باید توکن دریافت شده از مرحله ورود را وارد نمایید. اگر توکن صحیح باشد و منقضی نشده باشد، عملیات درخواست با موفقیت انجام خواهد شد.

## ✅ خروجی API در صورت موفقیت آمیز بودن

```json
{
  "data": {
    "method": "sms",
    "token": "84cd3ef65b0700dea4ac7942e61df4a5"
  },
  "meta": {
    "status": true,
    "message": "انجام شد",
    "message_parameters": [],
    "message_code": "200-1"
  }
}
```

## ❌ نمونه خطای اشتباه بودن و یا انقضای توکن

```json
{
  "data": null,
  "meta": {
    "status": false,
    "message": "اطلاعات وارد شده صحیح نمی باشد",
    "message_parameters": [],
    "message_code": "400-1",
    "errors": {}
  }
}
```

## 🧪 نمونه درخواست

```bash
curl --location '{base_url}/api/acl/auth/send_sms_otp' \
--header 'Content-Type: application/json' \
--data '{
  "token": "your-login-step-token"
}'
```
