# 📨 ارسال پیامک

این بخش تمام روش‌های ارسال پیامک از طریق API IPPanel Edge را پوشش می‌دهد. بسته به نیاز خود می‌توانید پیام‌ها را به
روش‌های مختلفی ارسال کنید.

برای تغییر روش ارسال، می‌توانید از پارامتر `sending_type` در بدنه درخواست استفاده کنید.

## لینک دسترسی اصلی

تمامی درخواست های ارسال پیامک از این لینک اصلی در دسترس می باشند

`https://edge.ippanel.com/v1`

## احراز هویت

در تمامی درخواست ها می بایست توکن و یا کلید دسترسی کاربر در هدر درخواست در قالب `Authorization` ارسال گردد، درغیر
اینصورت با خطای عدم دسترسی مواجه خواهید شد.

تنها مورد استثنا در این زمینه [ارسال با استفاده از لینک](./url) میباشد

```
Authorization: توکن یا کلید دسترسی
```

## متدهای مجاز ارسال

IPPanel Edge API روش‌های متعددی برای ارسال پیامک ارائه می‌دهد که هر کدام برای موارد استفاده‌ی متفاوتی مناسب هستند:

- [Webservice SMS](./webservice) - ارسال سریع یک متن به یک یا چند گیرنده
- [Peer to Peer SMS](./peer-to-peer) - ارسال چندین متن به چندین گیرنده
- [Peer to Peer by File](./peer-to-peer-file) - ارسال چندین متن به چندین گیرنده با استفاده از فایل
- [PostalCode SMS](./postalcode) - ارسال پیامک با استفاده از کد پستی
- [Country SMS](./country) - ارسال پیامک به استان،شهرستان و یا یک شهر خاص
- [Keyword SMS](./keyword) - ارسال کلمات کلیدی
- [Keyword Phonebook SMS](./keyword-phonebook) - ارسال کلمات کلیدی به مخاطبین یک دفترچه تلفن
- [Phonebook SMS](./phonebook) - ارسال به مخاطبین یک یا چند دفترچه تلفن
- [Pattern SMS](./pattern) - ارسال پیامک به وسیله الگوی خاص(پترن)
- [File SMS](./file) - ارسال پیام به مخاطبین ذخیره شده در یک فایل
- [VOTP](./votp) - ارسال کد رمز یکبار مصرف صوتی
- [URL SMS](./url) - ارسال پیامک سریع با فراخوانی لینک
- [Cancel Scheduled](./cancel-scheduled) - لغو ارسال پیامک های زمانبندی شده
- [Calculate Price](./calculate-price) - محاسبه هزینه ارسال پیامک

## قالب درخواست ها

همه روش‌های ارسال پیامک از یک قالب درخواست مشابه با پارامترهای متفاوت پیروی می‌کنند. همه درخواست‌ها نیاز به هدر
`Authorization` دارند که با توکن و یا کلید دسترسی کاربر مقداردهی شده باشد از بدنه‌های درخواست JSON استفاده می‌کنند.

تنها مورد استثنا در این زمینه [ارسال با استفاده از لینک](./url) میباشد

## قالب خروجی

پاسخ‌های موفق API شامل یک شیء `data` با شناسه پیامک ارسال شده و یک شیء `meta` با اطلاعات وضعیت است. پاسخ‌های خطا شامل
جزئیاتی در مورد خطای خاص رخ داده است.

تمامی درخواست های موفق با کد 200 مشخص شده اند، لذا در صورت دریافت کد غیر از 200 متناسب با نوع کد خطایی مرتبط رخ داده است
و ارسال انجام نشده است

## محدودیت در ارسال

ارسال با فایل، ارسال به دفترچه تلفن، ارسال به بانک های شهر و استان و کد پستی دارای محدودیت 1میلیون گیرنده می باشند و شما
نمیتوانید در یک درخواست بیش از یک میلیون گیرنده انتخاب نمایید

برای ارسال های وب سرویس قرار دادن بیش از 1000 گیرنده در ارسال ممکن است ارسال شما را با مشکل مواجه نماید لذا برای درخواست
ارسال به بیش از 1000 گیرنده از روش ارسال فایل استفاده نمایید

در ارسال های پترن، رمز یکبار مصرف صوتی و ارسال با لینک شما میتوانید فقط یک گیرنده برای ارسال مشخص نمایید.

ارسال دو درخواست کاملا مشابه(گیرنده، فرستنده و متن یکسان) در کمتر از 40 ثانیه، منجر به خطای 429 خواهد شد.

## ارسال زمانبندی شده

برای تمامی درخواست ها ارسال پیامک بلافاصله پس از درخواست انجام خواهد شد، مگر اینکه برای ارسال خود زمان ارسال را مشخص
کرده باشید.

در مشخص کردن زمانبندی ارسال توجه به این نکات ضروری است:

- زمان ارسال باید حداقل 5 دقیقه بعد از زمان کنونی باشد، در غیر اینصورت ممکن است ارسال شما به مشکل مواجه گردد
- زمان ارسال باید با فرمت `YYYY-MM-DD HH:MM:SS` و با منطقه زمانی UTC ارسال گردد. به عنوان مثال اگر میخواهید ارسال شما در
  ساعت 19 به وقت ایران انجام گردد باید ساعت ارسالی 15:30 دقیقه انتخاب شود
- حداکثر زمانبندی برای ارسال ها میتوان تا 3 ماه آینده باشد، اگر زمانبندی خود را برای زمانی بیش از 3 ماه تنظیم نمایید
  ممکن است ارسال شما انجام نشود
- تعرفه ارسال پیام های زمانبندی شده در زمان ارسال محاسبه میگردد و ممکن است نسبت به هزینه محاسبه شده در زمان درخواست
  متفاوت شود(به دلیل تغییر تعرفه ارسال) 
- شما میتوانید ارسال های زمانبندی شده خود تا حداکثر تا 5 دقیقه قبل از ارسال لغو نمایید و بعد از این زمان امکان لغو پیامک زمانبندی شده وجود نداشته و ارسال انجام خواهد شد